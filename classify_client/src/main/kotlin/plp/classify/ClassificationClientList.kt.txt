package plp.classify

import kotlinx.coroutines.async
import kotlinx.coroutines.awaitAll
import kotlinx.coroutines.coroutineScope

typealias ClassificationClientList = List<ClassificationClient>

suspend fun ClassificationClientList.classify(text: String) {
    val clients: ClassificationClientList = this
    coroutineScope {
        clients.map { client ->
            async { client.classifyText(text) }
        }.awaitAll()
    }
}